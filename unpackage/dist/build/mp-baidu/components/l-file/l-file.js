(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/l-file/l-file"],{"039d":function(e,t,n){},"3a81":function(e,t,n){"use strict";var o=n("039d"),r=n.n(o);r.a},"3d92":function(e,t,n){"use strict";n.r(t);var o=n("d8bf"),r=n("dc3b");for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("3a81");var i,s=n("f0c5"),u=Object(s["a"])(r["default"],o["b"],o["c"],!1,null,"5456a1bb",null,!1,o["a"],i);t["default"]=u.exports},"688b":function(e,t,n){"use strict";(function(e,o){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,o,r=u(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(){n.e("components/l-file/h5-file").then(function(){return resolve(n("fa3a"))}.bind(null,n)).catch(n.oe)},c={components:{h5File:l},props:{logo:{type:String,default:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fbpic.588ku.com%2Felement_origin_min_pic%2F00%2F00%2F07%2F155788a6d8a5c42.jpg&refer=http%3A%2F%2Fbpic.588ku.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1619847627&t=2da40b583002205c204d980b54b35040"},top:{type:String,default:"auto"},bgColor:{type:String,default:"rgba(49, 126, 243, 0.5)"},color:{type:String,default:"#e54d42"}},data:function(){return this.uploadTask=null,{cubgColor:"",loading:!1,value:5,show:!1,msg:"执行完毕~",showH5:!1,showTip:!1}},methods:{toast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.duration,r=void 0===o?2e3:o,a=n.icon,i=void 0===a?"none":a;e.showToast({title:t,duration:r,icon:i})},getRequest:function(e){var t=new Object,n=e.indexOf("?");if(-1!=n)for(var o=e.substring(n+1),r=o.split("&"),a=0;a<r.length;a++)t[r[a].split("=")[0]]=unescape(r[a].split("=")[1]);return t},appChooseFile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.currentWebview,e.url,e.name,e.header,s(e,["currentWebview","url","name","header"])},wxChooseFile:function(e){var t=this;o.chooseMessageFile({count:1,type:"file",success:function(n){var o=n.tempFiles;t.setdefUI(),t.handleWXUpload(e,o[0])},fail:function(){return t.errorHandler("文件选择失败",t.upErr)}})},h5ChooseFile:function(e){var t=this;this.showH5=!0,this.value=0,this.$nextTick((function(){t.$refs.h5File.hFile.onchange=function(n){t.handleH5Upload(e,n.target.files[0])}}))},handleH5Upload:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.url,o=t.name,r=void 0===o?"file":o,a=t.header,i=s(t,["url","name","header"]),u=arguments.length>1?arguments[1]:void 0,l=u.name,c=new FormData;for(var d in i)c.append(d,i[d]);for(var f in c.append(r,u),this.uploadTask=new XMLHttpRequest,this.uploadTask.open("POST",n,!0),a)this.uploadTask.setRequestHeader(f,a[f]);this.uploadTask.ontimeout=function(){setTimeout((function(){return e.showTip=!1,e.errorHandler("请求超时",e.upErr)}),1e3)},this.uploadTask.upload.addEventListener("progress",(function(t){t.lengthComputable&&(e.value=Math.ceil(100*t.loaded/t.total),e.value>100&&(e.value=100),e.$forceUpdate())}),!1),this.uploadTask.onreadystatechange=function(t){if(4==e.uploadTask.readyState)return console.log("status："+e.uploadTask.status),200==e.uploadTask.status?e.handleBack(l,e.uploadTask.responseText):(e.showTip=!1,0==e.uploadTask.status&&console.log("请检查请求头Content-Type与服务端是否匹配，并确认服务端已正确开启跨域"),e.errorHandler("文件上传失败",e.upErr))},this.showTip=!0,this.uploadTask.send(c)},handleWXUpload:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.url,r=n.name,a=void 0===r?"file":r,i=n.header,u=s(n,["url","name","header"]),l=arguments.length>1?arguments[1]:void 0,c={url:o,name:a,formData:u,header:i,filePath:l.path},d=l.name;c["fail"]=function(e){return t.showTip=!1,t.errorHandler("文件上传失败",t.upErr)},c["success"]=function(e){if(200==e.statusCode){var n=JSON.parse(e.data);return t.onCommit(t.$emit("up-success",{fileName:d,data:n}))}return t.errorHandler("文件上传失败",t.upErr)},this.showTip=!0,this.uploadTask=e.uploadFile(c),this.uploadTask&&this.uploadTask.onProgressUpdate((function(e){var n=e.progress,o=void 0===n?0:n;o<=100&&(t.value=o,t.$forceUpdate())}))},onCloseH5:function(){this.showH5=!1},onAbort:function(){this.uploadTask&&this.uploadTask.abort(),this.showTip=!1},handleBack:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"{}";console.log("可根据需求自行修改emit内容，服务端返回："+t);try{t=JSON.parse(t)}catch(n){t={id:t}}return this.onCommit(this.$emit("up-success",a({statusCode:200,fileName:e},t)))},upload:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.url?this.loading&&this.toast("还有个文件玩命处理中，请稍候.."):this.toast("上传地址不正确")},open:function(t){var n=e.getSystemInfoSync().platform;"ios"==n&&(t=encodeURI(t)),e.openDocument({filePath:t,success:function(e){console.log("打开文档成功")}})},plusSaveFile:function(e){var t,n=this,o=e.url,r=e.customName,i=void 0===r?"":r,s=e.opt;return new Promise((function(e,r){var u={method:"GET",timeout:120,retryInterval:10};i&&(u["filename"]="_downloads/files/".concat(i)),u=a(a({},u),s),t=plus.downloader.createDownload(o,u,(function(o,a){if(200==a){var i=o.filename;n.value=100,n.onCommit(e(i))}else n.errorHandler("下载失败",r);t=null})),t.addEventListener("statechanged",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.downloadedSize,o=void 0===t?0:t,r=e.state,a=void 0===r?0:r,i=e.totalSize,s=void 0===i?0:i;if(3===a){var u=s>0?s:fileSize,l=Math.ceil(o/u*100);n.value=l>100?100:l,n.$forceUpdate()}}),!1),t.start()}))},download:function(t){var n=this,o=t.url,r=t.type,a=void 0===r?"temporary":r;t.customName,s(t,["url","type","customName"]);if(!this.loading)return this.setdefUI(),new Promise((function(t,r){o=encodeURI(o);var i=e.downloadFile({url:o,success:function(o){var i=o.statusCode,s=o.tempFilePath;200===i&&("save"==a?e.saveFile({tempFilePath:s,success:function(e){var o=e.savedFilePath;return n.onCommit(t(o))},fail:function(){return n.errorHandler("下载失败",r)}}):n.onCommit(t(s)))},fail:function(){return n.errorHandler("下载失败",r)}});i.onProgressUpdate((function(e){var t=e.progress,o=void 0===t?0:t;o<=100&&n.$nextTick((function(){n.value=o}))}))}));this.toast("还有个文件玩命处理中，请稍候..")},onCommit:function(e){var t=this;return this.msg="执行完毕~",this.loading=!1,this.showTip=!1,this.cubgColor="rgba(57, 181, 74, 0.5)",setTimeout((function(){t.show=!1,t.showH5=!1}),1500),e},setdefUI:function(){this.cubgColor=this.bgColor,this.value=0,this.loading=!0,this.show=!0},upErr:function(e){this.$emit("up-error",e)},errorHandler:function(e,t){var n=this;return this.msg=e,this.loading=!1,this.cubgColor="rgba(229, 77, 66, 0.5)",setTimeout((function(){n.show=!1}),1500),t(e)}}};t.default=c}).call(this,n("5486")["default"],n("5486")["default"])},d8bf:function(e,t,n){"use strict";var o;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}));var r=function(){var e=this,t=e.$createElement;e._self._c},a=[]},dc3b:function(e,t,n){"use strict";n.r(t);var o=n("688b"),r=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=r.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/l-file/l-file-create-component',
    {
        'components/l-file/l-file-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('5486')['createComponent'](__webpack_require__("3d92"))
        })
    },
    [['components/l-file/l-file-create-component']]
]);
