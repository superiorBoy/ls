(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/xuanshang"],{"0da2":function(t,n,a){"use strict";a.r(n);var i=a("6231"),e=a("c3f4");for(var o in e)"default"!==o&&function(t){a.d(n,t,(function(){return e[t]}))}(o);a("d9af");var u,s=a("f0c5"),c=Object(s["a"])(e["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],u);n["default"]=c.exports},"45b4":function(t,n,a){},"5ed4":function(t,n,a){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a={data:function(){return{jine_arry:[],xuan_index:0,data:"",consultid:"",fenlei_arry:[],leibie_arry:[],laiyuan:2,apppaytype:"",money:"",is_click:!0}},created:function(){},onLoad:function(t){var n=this;t.information?(this.data={information:t.information,typeid:t.typeid,province:t.province,city:t.city,area:t.area},this.laiyuan=1,this.$http.post({url:"/mapi/index/gettype"}).then((function(t){n.leibie_arry=t.data.type;var a=[];for(var i in t.data.type)a.push(t.data.type[i]);n.fenlei_arry=a}))):(this.consultid=t.consultid,this.$http.post({url:"/mapi/index/gettype"}).then((function(t){n.leibie_arry=t.data.type;var a=[];for(var i in t.data.type)a.push(t.data.type[i]);n.fenlei_arry=a,n.huoqu_xq()}))),this.huoqu_pay_fs(),this.huoqu_xuanshang_num()},methods:{navigateBack:function(){t.navigateBack()},huoqu_xuanshang_num:function(){var t=this;this.$http.post({url:"/mapi/index/getxuanshang"}).then((function(n){var a=[];for(var i in n.data.zhan)a.push(n.data.zhan[i]);t.jine_arry=a,t.money=n.data.zhan.xuanshang1}))},huoqu_pay_fs:function(){var t=this;this.$http.post({url:"/mapi/index/getapppaytype"}).then((function(n){0==n.code&&(t.apppaytype=n.data.zhan.apppaytype)}))},xuan:function(t){this.xuan_index=t,this.money=this.jine_arry[t]},huoqu_xq:function(){var t=this;this.$http.post({url:"/mapi/consult/zixun_xq",data:{consultid:this.consultid}}).then((function(n){0==n.code&&(t.data=n.data.consult,t.jine_arry.includes(n.data.consult.paymoney)&&(t.money=n.data.consult.paymoney)),console.log(n)}))},save:function(){var t=this;1==this.laiyuan?this.$http.post({url:"/mapi/consult/addconsult",data:{information:this.data.information,typeid:this.data.typeid,province:this.data.province,city:this.data.city,area:this.data.area}}).then((function(n){0==n.code&&(t.consultid=n.data,t.fukuan()),console.log(n)})):this.fukuan()},fukuan:function(){1==this.apppaytype&&this.h5_pay()},h5_pay:function(){var n=this;this.is_click?(n.is_click=!1,setTimeout((function(){n.is_click=!0}),3e3),this.$http.post({url:"/mapi/consult/payh5",data:{consultid:n.consultid,paymoney:n.money}}).then((function(t){t.code}))):t.showToast({title:"稍后操作",duration:2e3,icon:"none"})},app_pay:function(){this.$http.post({url:"/mapi/consult/pay",data:{consultid:this.consultid,paymoney:this.money}}).then((function(n){0==n.code&&t.requestPayment({provider:"alipay",orderInfo:n.data.response,success:function(n){console.log("success:"+JSON.stringify(n)),t.showToast({title:"支付成功",duration:2e3}),this.shuru_txt="",setTimeout((function(){t.navigateTo({url:"tiwen_list"})}),2e3)},fail:function(n){t.showToast({title:"支付失败",duration:2e3,icon:"none"}),console.log("fail:"+JSON.stringify(n))}})}))},pay:function(n){t.requestPayment({provider:"alipay",orderInfo:res.data.response,success:function(n){console.log("success:"+JSON.stringify(n)),t.showToast({title:"支付成功",duration:2e3}),setTimeout((function(){t.navigateBack()}),2e3)},fail:function(n){t.showToast({title:"支付失败",duration:2e3,icon:"none"}),console.log("fail:"+JSON.stringify(n))}})},zanbu:function(){t.navigateBack()}}};n.default=a}).call(this,a("5486")["default"])},6231:function(t,n,a){"use strict";var i;a.d(n,"b",(function(){return e})),a.d(n,"c",(function(){return o})),a.d(n,"a",(function(){return i}));var e=function(){var t=this,n=t.$createElement;t._self._c},o=[]},a631:function(t,n,a){"use strict";(function(t){a("0743");i(a("66fd"));var n=i(a("0da2"));function i(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,a("5486")["createPage"])},c3f4:function(t,n,a){"use strict";a.r(n);var i=a("5ed4"),e=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(n,t,(function(){return i[t]}))}(o);n["default"]=e.a},d9af:function(t,n,a){"use strict";var i=a("45b4"),e=a.n(i);e.a}},[["a631","common/runtime","common/vendor"]]]);