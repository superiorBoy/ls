(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/ls/zhuiwen_xq"],{"24b1":function(t,n,e){"use strict";e.r(n);var i=e("65e0"),o=e.n(i);for(var u in i)"default"!==u&&function(t){e.d(n,t,(function(){return i[t]}))}(u);n["default"]=o.a},"27ac":function(t,n,e){"use strict";e.r(n);var i=e("bdeb"),o=e("24b1");for(var u in o)"default"!==u&&function(t){e.d(n,t,(function(){return o[t]}))}(u);e("6462");var a,r=e("f0c5"),c=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],a);n["default"]=c.exports},6462:function(t,n,e){"use strict";var i=e("d7b6"),o=e.n(i);o.a},"65e0":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){e.e("components/bkhumor-emoji/index").then(function(){return resolve(e("b787"))}.bind(null,e)).catch(e.oe)},o=function(){Promise.all([e.e("common/vendor"),e.e("components/feng-parse/parse")]).then(function(){return resolve(e("e3f1"))}.bind(null,e)).catch(e.oe)},u={data:function(){return{img_url:t.getStorageSync("img_url"),title:"提问详情",huifu_txt:"",id:"",xq:"",isShowEmj:!1,is_tan:!1,is_lianxi:""}},created:function(){},components:{emotion:i,uParse:o},onLoad:function(t){var n=this;console.log(t),this.id=t.id,this.$http.post({url:"/mapi/index/gettype"}).then((function(t){n.fenlei=t.data.type,n.huoqu_xq()})),this.$http.post({url:"/mlawyerapi/consult/zaixian_lianxi"}).then((function(t){n.is_lianxi=t.data.lawyer.zaixian_lianxi}))},methods:{navigateBack:function(){t.navigateBack()},huoqu_xq:function(){var t=this;this.$http.post({url:"/mapi/consult/zixun_xq",data:{consultid:this.id}}).then((function(n){t.xq=n.data}))},huifu:function(){var n=this;return""==this.huifu_txt?(t.showToast({title:"请输入回复内容",duration:2e3,icon:"none"}),!1):this.huifu_txt.length<10?(t.showToast({title:"不得少于10个字",duration:2e3,icon:"none"}),!1):(this.$http.post({url:"/lawyer/index/zhuiwen",data:{text:this.huifu_txt,consultid:this.xq.consult.consultid}}).then((function(e){0==e.code&&(t.showToast({title:"回复成功",duration:2e3}),n.huifu_txt="",setTimeout((function(){t.navigateBack()}),2e3))})),void console.log(this.huifu_txt))},replace_em:function(t){return t=t.replace(/\</g,"&lt;"),t=t.replace(/\>/g,"&gt;"),t=t.replace(/\n/g,"<br/>"),t=t.replace(/\[em_([0-9]*)\]/g,'<img src="../../static/bkhumor-emoji/$1.gif" border="0" style="width:40rpx"/>'),t},handleEmj:function(t){console.log(t),"[em_98]"==t?this.huifu_txt=this.chat_txt.replace(/(\[[^\]]+\]|[\s\S])$/,""):this.huifu_txt+=t,this.isShowEmj=!1},showEmj:function(){var t=!this.isShowEmj;t?(this.emojiIcon="cuIcon-keyboard",this.bt_show=!1):this.emojiIcon="cuIcon-emoji",this.isShowEmj=t,this.$emit("show")},lianxi:function(){1==this.is_lianxi?t.navigateTo({url:"chat?userid="+this.xq.consult.userid}):0==this.xq.consult_replycount?this.is_tan=!0:t.navigateTo({url:"chat?userid="+this.xq.consult.userid})},close:function(){this.is_tan=!1}},filters:{timeStamp:function(t){if(null==t)return"null";var n=(t+"").length;while(n++<13)t+="0";t=Number(t);var e=new Date(t),i=e.getMonth()+1,o=e.getHours();o<10&&(o="0"+o);var u=e.getMinutes();u<10&&(u="0"+u);var a=e.getFullYear()+"-"+i+"-"+e.getDate()+" "+o+":"+u;return a}}};n.default=u}).call(this,e("5486")["default"])},bdeb:function(t,n,e){"use strict";var i;e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return u})),e.d(n,"a",(function(){return i}));var o=function(){var t=this,n=t.$createElement,e=(t._self._c,t.xq?t._f("timeStamp")(t.xq.consult.addtime):null),i=t.xq?t.__map(t.xq.consult_reply,(function(n,e){var i=t.__get_orig(n),o=t._f("timeStamp")(n.addtime),u=t.replace_em(n.information),a=t.__map(n.zhuiwen,(function(e,i){var o=t.__get_orig(e),u=1==e.type?t._f("timeStamp")(n.addtime):null,a=1==e.type?t.replace_em(e.information):null,r=2==e.type?t._f("timeStamp")(n.addtime):null,c=2==e.type?t.replace_em(e.information):null;return{$orig:o,f2:u,m1:a,f3:r,m2:c}}));return{$orig:i,f1:o,m0:u,l0:a}})):null;t.$mp.data=Object.assign({},{$root:{f0:e,l1:i}})},u=[]},c474:function(t,n,e){"use strict";(function(t){e("0743");i(e("66fd"));var n=i(e("27ac"));function i(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("5486")["createPage"])},d7b6:function(t,n,e){}},[["c474","common/runtime","common/vendor"]]]);