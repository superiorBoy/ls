(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-ceshi"],{"072a":function(n,i,t){"use strict";t.r(i);var e=t("2d07"),o=t.n(e);for(var s in e)"default"!==s&&function(n){t.d(i,n,(function(){return e[n]}))}(s);i["default"]=o.a},"1b25":function(n,i,t){"use strict";t.r(i);var e=t("6374"),o=t("072a");for(var s in o)"default"!==s&&function(n){t.d(i,n,(function(){return o[n]}))}(s);t("449c");var r,a=t("f0c5"),d=Object(a["a"])(o["default"],e["b"],e["c"],!1,null,"07c6bd7e",null,!1,e["a"],r);i["default"]=d.exports},"2d07":function(n,i,t){"use strict";var e=t("4ea4");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,t("96cf");var o=e(t("1da1")),s=e(t("7120")),r=uni.getRecorderManager(),a=uni.createInnerAudioContext();a.autoplay=!0;var d={data:function(){return{recorderManager:{},innerAudioContext:{},voicePath:"",intervalTime:0,isRecord:!1,isIos:!1,items:["iOS","Android"],current:0}},onLoad:function(){var n=this;r.onStart((function(n){console.log(JSON.stringify(n),"onStart")})),r.onError((function(n){console.log(JSON.stringify(n),"onError")})),r.onStop((function(i){console.log("recorder stop"+JSON.stringify(i)),n.voicePath=i.tempFilePath}))},computed:{intIntervalTime:function(){return console.log(Math.round(this.intervalTime)),Math.round(this.intervalTime)}},methods:{onClickItem:function(n){this.current!==n&&(this.current=n)},judgeIosPermission:function(n){var i=s.default.judgeIosPermission(n);console.log(i);var t=i?"已":"未";uni.showModal({content:n+"权限"+t+"获得授权",showCancel:!1})},requestAndroidPermission:function(n){return(0,o.default)(regeneratorRuntime.mark((function i(){var t,e;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,s.default.requestAndroidPermission(n);case 2:t=i.sent,e=1==t?"已获得授权":0==t?"未获得授权":"被永久拒绝权限",uni.showModal({content:n+e,showCancel:!1});case 5:case"end":return i.stop()}}),i)})))()},gotoAppPermissionSetting:function(){s.default.gotoAppPermissionSetting()},checkSystemLocationStatus:function(){uni.showModal({content:"本机的位置服务开启状态："+s.default.checkSystemEnableLocation(),showCancel:!1})},gotoAndroidPermissionSetting:function(){var n=plus.android.runtimeMainActivity(),i=plus.android.importClass("android.content.Intent"),t=plus.android.importClass("android.provider.Settings"),e=new i(t.ACTION_WIRELESS_SETTINGS);n.startActivity(e)},startRecord:function(){var n=this;this.timer=setInterval((function(){n.intervalTime+=.5,n.intervalTime>=.5&&!n.isRecord&&(console.log("开始录音"),n.isRecord=!0,n.intervalTime=0,r.start({format:"mp3"}))}),500)},endRecord:function(){var n=this;this.intervalTime<=.5&&console.log("录音太短了!!!"),clearInterval(this.timer),this.isRecord&&setTimeout((function(){r.stop(),n.isRecord=!1,console.log(n.isRecord)}),500)},playVoice:function(){console.log("播放录音"),this.voicePath&&(a.src=this.voicePath,a.play())}}};i.default=d},"449c":function(n,i,t){"use strict";var e=t("8618"),o=t.n(e);o.a},"5ff0":function(n,i,t){var e=t("24fb");i=e(!1),i.push([n.i,".audioPlay[data-v-07c6bd7e]{margin-top:%?500?%}*[data-v-07c6bd7e]{-webkit-user-select:none!important;user-select:none!important}",""]),n.exports=i},6374:function(n,i,t){"use strict";var e;t.d(i,"b",(function(){return o})),t.d(i,"c",(function(){return s})),t.d(i,"a",(function(){return e}));var o=function(){var n=this,i=n.$createElement,t=n._self._c||i;return t("v-uni-view",{staticClass:"audioPlay"},[t("v-uni-button",{attrs:{disabled:n.isIos},on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.requestAndroidPermission("android.permission.ACCESS_FINE_LOCATION")}}},[n._v("位置权限")]),t("v-uni-button",{attrs:{disabled:n.isIos},on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.requestAndroidPermission("android.permission.ACCESS_COARSE_LOCATION")}}},[n._v("模糊位置权限(蓝牙\\ble依赖)")]),t("v-uni-button",{attrs:{disabled:n.isIos},on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.requestAndroidPermission("android.permission.CAMERA")}}},[n._v("摄像头权限")]),t("v-uni-button",{attrs:{disabled:n.isIos},on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.requestAndroidPermission("android.permission.READ_EXTERNAL_STORAGE")}}},[n._v("外部存储(含相册)读取权限")]),t("v-uni-button",{attrs:{disabled:n.isIos},on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.requestAndroidPermission("android.permission.WRITE_EXTERNAL_STORAGE")}}},[n._v("外部存储(含相册)写入权限")]),t("v-uni-button",{attrs:{disabled:n.isIos},on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.requestAndroidPermission("android.permission.RECORD_AUDIO")}}},[n._v("麦克风权限")]),t("v-uni-button",{attrs:{disabled:n.isIos},on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.requestAndroidPermission("android.permission.READ_CONTACTS")}}},[n._v("通讯录读取权限")]),t("v-uni-button",{attrs:{disabled:n.isIos},on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.requestAndroidPermission("android.permission.WRITE_CONTACTS")}}},[n._v("通讯录写入权限")]),t("v-uni-button",{attrs:{disabled:n.isIos},on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.requestAndroidPermission("android.permission.READ_CALENDAR")}}},[n._v("日历读取权限")]),t("v-uni-button",{attrs:{disabled:n.isIos},on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.requestAndroidPermission("android.permission.WRITE_CALENDAR")}}},[n._v("日历写入权限")]),t("v-uni-button",{attrs:{disabled:n.isIos},on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.requestAndroidPermission("android.permission.READ_SMS")}}},[n._v("短信读取权限")]),t("v-uni-button",{attrs:{disabled:n.isIos},on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.requestAndroidPermission("android.permission.SEND_SMS")}}},[n._v("短信发送权限")]),t("v-uni-button",{attrs:{disabled:n.isIos},on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.requestAndroidPermission("android.permission.RECEIVE_SMS")}}},[n._v("接收新短信权限")]),t("v-uni-button",{attrs:{disabled:n.isIos},on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.requestAndroidPermission("android.permission.READ_PHONE_STATE")}}},[n._v("获取手机识别码等信息的权限")]),t("v-uni-button",{attrs:{disabled:n.isIos},on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.requestAndroidPermission("android.permission.CALL_PHONE")}}},[n._v("拨打电话权限")]),t("v-uni-button",{attrs:{disabled:n.isIos},on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.requestAndroidPermission("android.permission.READ_CALL_LOG")}}},[n._v("获取通话记录权限")]),t("v-uni-button",{on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.startRecord.apply(void 0,arguments)}}},[n._v("开始录音")]),t("v-uni-button",{on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.endRecord.apply(void 0,arguments)}}},[n._v("停止录音")]),t("v-uni-button",{on:{click:function(i){arguments[0]=i=n.$handleEvent(i),n.playVoice.apply(void 0,arguments)}}},[n._v("播放录音")]),t("v-uni-view",{staticClass:"status"},[n._v("录音中"+n._s(n.intIntervalTime)+"s>>>")])],1)},s=[]},8618:function(n,i,t){var e=t("5ff0");"string"===typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);var o=t("4f06").default;o("158e8e6e",e,!0,{sourceMap:!1,shadowMode:!1})}}]);