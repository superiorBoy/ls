(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-ls-ceshi"],{"001c":function(t,e){},"0120":function(t,e,r){"use strict";var n=r("4ea4");r("99af"),r("c975"),r("c19f"),r("ace4"),r("b680"),r("d3b7"),r("acd8"),r("e25e"),r("ac1f"),r("3ca3"),r("5319"),r("1276"),r("5cc6"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("72f7"),r("ddb0"),r("2b3d"),Object.defineProperty(e,"__esModule",{value:!0}),e.sleep=u,e.isNumber=c,e.toPx=d,e.compareVersion=l,e.base64ToPath=h,e.pathToBase64=f,e.getImageInfo=v,r("96cf");var i=n(r("1da1")),a=n(r("3835")),o=/^(http|\/\/)/;function u(t){return new Promise((function(e){return setTimeout(e,t)}))}var s={};function c(t){return/^-?\d+(\.\d+)?$/.test(t)}function d(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("number"===typeof t)return t;if(c(t))return 1*t;if("string"===typeof t){var n=/^-?([0-9]+)?([.]{1}[0-9]+){0,1}(em|rpx|px|%)$/g,i=n.exec(t);if(!t||!i)return 0;var a=i[3];t=parseFloat(t);var o=0;return"rpx"===a?o=uni.upx2px(t):"px"===a?o=1*t:"%"===a?o=t*d(e)/100:"em"===a&&(o=t*d(e||14)),r?1*o.toFixed(2):Math.round(o)}}function l(t,e){t=t.split("."),e=e.split(".");var r=Math.max(t.length,e.length);while(t.length<r)t.push("0");while(e.length<r)e.push("0");for(var n=0;n<r;n++){var i=parseInt(t[n],10),a=parseInt(e[n],10);if(i>a)return 1;if(i<a)return-1}return 0}function h(t){var e=/data:image\/(\w+);base64,(.*)/.exec(t)||[],r=(0,a.default)(e,3);r[1],r[2];return new Promise((function(e,r){for(var n=t.split(",")[0].split(":")[1].split(";")[0],i=atob(t.split(",")[1]),a=new ArrayBuffer(i.length),o=new Uint8Array(a),u=0;u<i.length;u++)o[u]=i.charCodeAt(u);e(URL.createObjectURL(new Blob([o],{type:n})))}))}function f(t){return new Promise((function(e,r){var n=function(){var n=new Image;n.onload=function(){var t=document.createElement("canvas");t.width=this.naturalWidth,t.height=this.naturalHeight,t.getContext("2d").drawImage(n,0,0);var r=t.toDataURL("image/png");e(r),t.height=t.width=0},n.src=t,n.setAttribute("crossOrigin","Anonymous"),n.src=t,n.onerror=function(e){console.error("urlToBase64 error: ".concat(t),JSON.stringify(e)),r(new Error("urlToBase64 error"))}},i=function(t){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.readAsDataURL(t),n.onerror=function(t){console.error("blobToBase64 error:",JSON.stringify(t)),r(new Error("blobToBase64 error"))}},a="function"===typeof FileReader;if(o.test(t)&&a){window.URL=window.URL||window.webkitURL;var u=new XMLHttpRequest;u.open("get",t,!0),u.timeout=2e3,u.responseType="blob",u.onload=function(){200==this.status?i(this.response):n()},u.onreadystatechange=function(){0===this.status&&console.error("图片跨域了，得后端处理咯")},u.send()}else/^blob/.test(t)&&a?i(t):n()}))}function v(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(){var n=(0,i.default)(regeneratorRuntime.mark((function n(i,a){var u,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(u=/^data:image\/(\w+);base64/,/^\.|^\/(?=[^\/])/,!o.test(t)||!e){n.next=6;break}return n.next=5,f(t);case 5:t=n.sent;case 6:if(!u.test(t)){n.next=16;break}if(s[t]){n.next=15;break}return c=t,n.next=11,h(t);case 11:t=n.sent,s[c]=t,n.next=16;break;case 15:t=s[t];case 16:s[t]&&s[t].errMsg&&!r?i(s[t]):uni.getImageInfo({src:t,success:function(e){e.path=e.path.replace(/^\./,window.location.origin),e.url=t,s[t]=e,i(s[t])},fail:function(e){i({path:t}),console.error("getImageInfo:fail ".concat(t," failed ").concat(JSON.stringify(e)))}});case 17:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}())}},"06c5":function(t,e,r){"use strict";r("a630"),r("fb6a"),r("d3b7"),r("25f0"),r("3ca3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=i(r("6b75"));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(t){if("string"===typeof t)return(0,n.default)(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.default)(t,e):void 0}}},"06d7":function(t,e,r){"use strict";r.r(e);var n=r("ef0d"),i=r.n(n);for(var a in n)"default"!==a&&function(t){r.d(e,t,(function(){return n[t]}))}(a);e["default"]=i.a},"09f0":function(t,e,r){"use strict";function n(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(n=(o=u.next()).done);n=!0)if(r.push(o.value),e&&r.length===e)break}catch(s){i=!0,a=s}finally{try{n||null==u["return"]||u["return"]()}finally{if(i)throw a}}return r}}r("a4d3"),r("e01a"),r("d28b"),r("d3b7"),r("3ca3"),r("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},"0d21":function(t,e,r){"use strict";function n(t){if(Array.isArray(t))return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},"0f0e":function(t,e,r){"use strict";r.r(e);var n=r("e5e6"),i=r("a235");for(var a in i)"default"!==a&&function(t){r.d(e,t,(function(){return i[t]}))}(a);var o,u=r("f0c5"),s=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],o);e["default"]=s.exports},"10d5":function(t,e,r){"use strict";var n=r("4ea4");r("c975"),r("baa5"),r("acd8"),r("ac1f"),r("466d"),r("1276"),r("2ca0"),r("498a"),Object.defineProperty(e,"__esModule",{value:!0}),e.GD=void 0;var i=n(r("b85c")),a={isGradient:function(t){return!(!t||!t.startsWith("linear")&&!t.startsWith("radial"))},doGradient:function(t,e,r,n){t.startsWith("linear")?c(e,r,t,n):t.startsWith("radial")&&u(e,r,t,n)}};function o(t){var e,r=t.substring(0,t.length-1).split("%,"),n=[],a=[],o=(0,i.default)(r);try{for(o.s();!(e=o.n()).done;){var u=e.value;n.push(u.substring(0,u.lastIndexOf(" ")).trim()),a.push(u.substring(u.lastIndexOf(" "),u.length)/100)}}catch(s){o.e(s)}finally{o.f()}return{colors:n,percents:a}}function u(t,e,r,n){for(var i=o(r.match(/radial-gradient\((.+)\)/)[1]),a=n.createCircularGradient(0,0,t<e?e/2:t/2),u=0;u<i.colors.length;u++)a.addColorStop(i.percents[u],i.colors[u]);n.setFillStyle(a)}function s(t,e,r){var n,i=t.match(/([-]?\d{1,3})deg/),a=i&&i[1]?parseFloat(i[1]):0;switch(a){case 0:n=[0,-r/2,0,r/2];break;case 90:n=[e/2,0,-e/2,0];break;case-90:n=[-e/2,0,e/2,0];break;case 180:n=[0,r/2,0,-r/2];break;case-180:n=[0,-r/2,0,r/2];break;default:var o=0,u=0,s=0,c=0;i[1]>0&&i[1]<90?(o=e/2-(e/2*Math.tan((90-i[1])*Math.PI*2/360)-r/2)*Math.sin(2*(90-i[1])*Math.PI*2/360)/2,c=Math.tan((90-i[1])*Math.PI*2/360)*o,s=-o,u=-c):i[1]>-180&&i[1]<-90?(o=-e/2+(e/2*Math.tan((90-i[1])*Math.PI*2/360)-r/2)*Math.sin(2*(90-i[1])*Math.PI*2/360)/2,c=Math.tan((90-i[1])*Math.PI*2/360)*o,s=-o,u=-c):i[1]>90&&i[1]<180?(o=e/2+(-e/2*Math.tan((90-i[1])*Math.PI*2/360)-r/2)*Math.sin(2*(90-i[1])*Math.PI*2/360)/2,c=Math.tan((90-i[1])*Math.PI*2/360)*o,s=-o,u=-c):(o=-e/2-(-e/2*Math.tan((90-i[1])*Math.PI*2/360)-r/2)*Math.sin(2*(90-i[1])*Math.PI*2/360)/2,c=Math.tan((90-i[1])*Math.PI*2/360)*o,s=-o,u=-c),n=[o,u,s,c];break}return n}function c(t,e,r,n){for(var i=s(r,t,e),a=n.createLinearGradient(i[0],i[1],i[2],i[3]),u=r.match(/linear-gradient\((.+)\)/)[1],c=o(u.substring(u.indexOf(",")+1)),d=0;d<c.colors.length;d++)a.addColorStop(c.percents[d],c.colors[d]);n.setFillStyle(a)}e.GD=a},"1da1":function(t,e,r){"use strict";function n(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(c){return void r(c)}u.done?e(s):Promise.resolve(s).then(n,i)}function i(t){return function(){var e=this,r=arguments;return new Promise((function(i,a){var o=t.apply(e,r);function u(t){n(o,i,a,u,s,"next",t)}function s(t){n(o,i,a,u,s,"throw",t)}u(void 0)}))}}r("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},"28f2":function(t,e,r){"use strict";var n=r("4ea4");r("cb29"),r("4de4"),r("caad"),r("c975"),r("a15b"),r("d81d"),r("13d5"),r("b64b"),r("d3b7"),r("07ac"),r("ac1f"),r("2532"),r("5319"),r("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.Draw=void 0;var i=n(r("b85c"));r("96cf");var a=n(r("1da1")),o=n(r("ade3")),u=n(r("3835")),s=n(r("d4ec")),c=n(r("bee2")),d=r("0120"),l=r("10d5"),h=n(r("001c")),f=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0;(0,s.default)(this,t),this.ctx=e,this.canvas=r||null,this.use2dCanvas=n,this.isH5PathToBase64=i,this.sleep=a}return(0,c.default)(t,[{key:"roundRect",value:function(t,e,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(!(i<0)){var u=this.ctx;if(u.beginPath(),i){var s=i||{},c=s.borderTopLeftRadius,d=void 0===c?i||0:c,l=s.borderTopRightRadius,h=void 0===l?i||0:l,f=s.borderBottomRightRadius,v=void 0===f?i||0:f,p=s.borderBottomLeftRadius,g=void 0===p?i||0:p;u.arc(t+r-v,e+n-v,v,0,.5*Math.PI),u.lineTo(t+g,e+n),u.arc(t+g,e+n-g,g,.5*Math.PI,Math.PI),u.lineTo(t,e+d),u.arc(t+d,e+d,d,Math.PI,1.5*Math.PI),u.lineTo(t+r-h,e),u.arc(t+r-h,e+h,h,1.5*Math.PI,2*Math.PI),u.lineTo(t+r,e+n-v)}else u.rect(t,e,r,n);u.closePath(),o&&u.stroke(),a&&u.fill()}}},{key:"setTransform",value:function(t,e){var r=e.transform,n=e.transformOrigin,i=void 0===n?"center center":n,a=this.ctx,o=r||{},u=o.scaleX,s=void 0===u?1:u,c=o.scaleY,l=void 0===c?1:c,h=o.translateX,f=void 0===h?0:h,v=o.translateY,p=void 0===v?0:v,g=o.rotate,b=void 0===g?0:g,m=o.skewX,y=void 0===m?0:m,w=o.skewY,x=void 0===w?0:w,k=t.left,P=t.top,T=t.width,S=t.height;f=(0,d.toPx)(f,T)||0,p=(0,d.toPx)(p,S)||0;var I={top:(0,d.toPx)("0%",1),center:(0,d.toPx)("50%",1,!0),bottom:(0,d.toPx)("100%",1)},R={left:(0,d.toPx)("0%",1),center:(0,d.toPx)("50%",1,!0),right:(0,d.toPx)("100%",1)};i=i.split(" ").filter((function(t,e){return e<2})).reduce((function(t,e){if(/\d+/.test(e)){var r=(0,d.toPx)(e,1,!0)/(/px|rpx$/.test(e)?(0,d.isNumber)(t.x)?S:T:1);return(0,d.isNumber)(t.x)?Object.assign(t,{y:r}):Object.assign(t,{x:r})}return(0,d.isNumber)(R[e])&&!(0,d.isNumber)(t.x)?Object.assign(t,{x:R[e]}):Object.assign(t,{y:I[e]})}),{}),a.scale(s,l);var M={x:T*(s>0?1:-1)*i.x+(k+f)/s,y:S*(l>0?1:-1)*i.y+(P+p)/l};return a.translate(M.x,M.y),b&&a.rotate(b*Math.PI/180),(y||x)&&a.transform(1,Math.tan(x*Math.PI/180),Math.tan(y*Math.PI/180),1,0,0),{x:-T*i.x,y:-S*i.y,w:T,h:S}}},{key:"setBackground",value:function(t,e,r){var n=this.ctx;t?l.GD.isGradient(t)?l.GD.doGradient(t,e,r,n):n.setFillStyle(t):n.setFillStyle("transparent")}},{key:"setShadow",value:function(t){var e=t.boxShadow,r=void 0===e?[]:e,n=this.ctx;if(r.length){var i=(0,u.default)(r,4),a=i[0],o=i[1],s=i[2],c=i[3];n.setShadow(a,o,s,c)}}},{key:"setBorder",value:function(t,e){var r,n=this.ctx,i=t.width,a=t.height,u=e.border,s=e.borderBottom,c=e.borderTop,d=e.borderRight,l=e.borderLeft,h=e.borderRadius,f=u||{},v=f.borderWidth,p=void 0===v?0:v,g=f.borderStyle,b=f.borderColor,m=s||{},y=m.borderBottomWidth,w=void 0===y?p:y,x=m.borderBottomStyle,k=void 0===x?g:x,P=m.borderBottomColor,T=void 0===P?b:P,S=c||{},I=S.borderTopWidth,R=void 0===I?p:I,M=S.borderTopStyle,O=void 0===M?g:M,L=S.borderTopColor,j=void 0===L?b:L,_=d||{},B=(_.borderRightWidth,_.borderRightStyle,_.borderRightColor,l||{}),N=B.borderLeftWidth,C=void 0===N?p:N,F=B.borderLeftStyle,A=void 0===F?g:F,H=B.borderLeftColor,W=void 0===H?b:H,E=h||(r={r:h},(0,o.default)(r,"r",h),(0,o.default)(r,"r",h),(0,o.default)(r,"r",h),r),$=E.borderTopLeftRadius,D=void 0===$?h||0:$,G=E.borderTopRightRadius,z=void 0===G?h||0:G,J=E.borderBottomRightRadius,U=void 0===J?h||0:J,X=E.borderBottomLeftRadius,Y=void 0===X?h||0:X;if(s||l||c||d||u){var q=function(t,e,r){"dashed"==e?n.setLineDash([Math.ceil(6*t),Math.ceil(6*t)]):"dotted"==e&&n.setLineDash([t,t]),n.setStrokeStyle(r)},V=function(t,e,r,i,a,o,u,s,c,d,l,h,f,v){n.save(),n.setLineWidth(h),q(h,f,v),n.beginPath(),n.arc(t,e,u,Math.PI*c,Math.PI*d),n.lineTo(r,i),n.arc(a,o,s,Math.PI*d,Math.PI*l),n.stroke(),n.restore()};n.save(),this.setOpacity(e);var Q=this.setTransform(t,e),Z=Q.x,K=Q.y;u&&(n.setLineWidth(p),q(p,g,b),this.roundRect(Z,K,i,a,h,!1,!!b),n.restore()),s&&V(Z+i-U,K+a-U,Z+Y,K+a,Z+Y,K+a-Y,U,Y,.25,.5,.75,w,k,T),l&&V(Z+Y,K+a-Y,Z,K+D,Z+D,K+D,Y,D,.75,1,1.25,C,A,W),c&&V(Z+D,K+D,Z+i-z,K,Z+i-z,K+z,D,z,1.25,1.5,1.75,R,O,j),d&&V(Z+i-z,K+z,Z+i,K+a-U,Z+i-U,K+a-U,z,U,1.75,2,.25,R,O,j)}}},{key:"setOpacity",value:function(t){var e=t.opacity,r=void 0===e?1:e;this.ctx.setGlobalAlpha(r)}},{key:"drawView",value:function(t,e){var r=this.ctx,n=t.width,i=t.height,a=e||{},o=a.borderRadius,u=void 0===o?0:o,s=a.backgroundColor;r.save(),this.setOpacity(e);var c=this.setTransform(t,e),d=c.x,l=c.y;this.setShadow(e),this.setBackground(s,n,i),this.roundRect(d,l,n,i,u,!0,!1),r.restore(),this.setBorder(t,e)}},{key:"drawImage",value:function(){var t=(0,a.default)(regeneratorRuntime.mark((function t(e){var r,n,i,o=this,u=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},n=u.length>2&&void 0!==u[2]?u[2]:{},i=!(u.length>3&&void 0!==u[3])||u[3],t.next=5,new Promise(function(){var t=(0,a.default)(regeneratorRuntime.mark((function t(u,s){var c,l,h,f,v,p,g,b,m,y,w,x,k,P,T,S,I,R,M,O,L,j,_,B,N,C,F,A,H,W,E;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(c=o.ctx,l=o.sleep,h=o.canvas,f=n.borderRadius,v=void 0===f?0:f,p=n.mode,g=n.padding,b=void 0===g?{}:g,m=n.backgroundColor,y=b.paddingTop,w=void 0===y?0:y,x=b.paddingLeft,k=void 0===x?0:x,P=b.paddingRight,T=void 0===P?0:P,S=b.paddingBottom,I=void 0===S?0:S,R=r.left,M=r.top,O=r.width,L=r.height,c.save(),i||(o.setOpacity(n),j=o.setTransform(r,n),_=j.x,B=j.y,m&&o.setBackground(m,O,L),R=_,M=B,o.setShadow(n),o.roundRect(R,M,O,L,v,!!v,!1)),c.clip(),N=function(t){R+=k,M+=w,O=O-k-T,L=L-w-I;var e=t.width,r=t.height,n=t.src,i=0,a=0,o=O/L,u=e/r;switch(e||(p="scaleToFill"),p){case"aspectFit":o>=u?(e=L*u,r=L,i=R+Math.round(O-e)/2,a=M):(e=O,r=O/u,i=R,a=M+Math.round(L-r)/2),c.drawImage(n,i,a,e,r);break;case"aspectFill":o>=u?r=e/o:(e=r*o,i=Math.round(((t.width||O)-e)/2)),c.drawImage(n,i,a,e,r,R,M,O,L);break;default:c.drawImage(n,R,M,O,L)}},C=function(){c.restore(),o.setBorder(r,n),setTimeout(u,l)},F=function t(e){if(o.use2dCanvas){var r=h.createImage();r.onload=function(){e.src=r,N(e),C()},r.onerror=(0,a.default)(regeneratorRuntime.mark((function r(){var n,i,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e.url){r.next=10;break}return r.next=3,(0,d.getImageInfo)(e.url,o.isH5PathToBase64,!0);case 3:n=r.sent,i=n.path,a=n.width,s=n.height,t({src:i,width:a,height:s}),r.next=12;break;case 10:console.error("createImage fail: ".concat(JSON.stringify(e))),u(!0);case 12:case"end":return r.stop()}}),r)}))),r.src=e.src}else N(e),C()},"string"!==typeof e){t.next=21;break}return t.next=14,(0,d.getImageInfo)(e,o.isH5PathToBase64);case 14:A=t.sent,H=A.path,W=A.width,E=A.height,F({src:H,width:W,height:E}),t.next=22;break;case 21:F(e);case 22:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"drawText",value:function(t,e,r,n){var i=this.ctx,a=e.width,o=e.height,u=e.offsetLeft,s=void 0===u?0:u,c=e.offsetTop,l=void 0===c?0:c,h=r.color,f=void 0===h?"#000000":h,v=r.lineHeight,p=void 0===v?"1.4em":v,g=r.fontSize,b=void 0===g?14:g,m=r.fontWeight,y=r.fontFamily,w=r.textStyle,x=r.textAlign,k=void 0===x?"left":x,P=r.verticalAlign,T=void 0===P?"top":P,S=r.backgroundColor,I=r.maxLines,R=(r.display,r.padding,r.borderRadius),M=void 0===R?0:R,O=r.textDecoration;if(p=(0,d.toPx)(p,b),t){i.save(),this.setOpacity(r);var L=this.setTransform(e,r),j=L.x,_=L.y;i.setTextBaseline(T),i.setFonts({fontFamily:y,fontSize:b,fontWeight:m,textStyle:w}),i.setTextAlign(k),S&&(this.setBackground(S,a,o),this.roundRect(j,_,a,o,M,1,0)),_+=l,this.setShadow(r),i.setFillStyle(f);var B={};if(n&&n.word.length>0)for(var N=0;N<n.word.length;N++){var C=0,F=void 0;while((F=t.indexOf(n.word[N],C))>-1){B[F]={reset:!0};for(var A=0;A<n.word[N].length;A++)B[F+A]={reset:!0};C=F+1}}switch(k){case"left":break;case"center":j+=.5*a;break;case"right":j+=a;break;default:break}var H=i.measureText(t).width,W=Math.ceil(H/a)*p,E=Math.ceil((o-W)/2);switch(E<0&&(E=0),T){case"top":break;case"middle":_+=b/2;break;case"bottom":_+=b;break;default:break}var $=function(t,e,r){var n=uni.getSystemInfoSync(),a=n.system;switch(/win|mac/.test(a)&&(e+=b/3),T){case"top":break;case"middle":e-=b/2;break;case"bottom":e-=b;break;default:break}var o=t;switch(k){case"left":t=t,o+=r;break;case"center":t-=r/2,o=t+r;break;case"right":o=t,t-=r;break;default:break}O&&(i.setLineWidth(b/13),i.beginPath(),/\bunderline\b/.test(O)&&(e-=.8*U,i.moveTo(t,e),i.lineTo(o,e)),/\boverline\b/.test(O)&&(e+=U,i.moveTo(t,e-p),i.lineTo(o,e-p)),/\bline-through\b/.test(O)&&(i.moveTo(t,e-p/2),i.lineTo(o,e-p/2)),i.closePath(),i.setStrokeStyle(f),i.stroke())},D=function(t,e,r){for(var a=Object.keys(B),o=0;o<a.length;o++){var u=B[a[o]];i.save(),i.setFillStyle(n.color),u.char&&i.fillText(u.char,u.x,u.y),i.restore()}},G=function(t,e){if(t){var r=Math.round(i.measureText(" ").width),n=Math.round(i.measureText("　").width),a=Math.round(i.measureText(e).width),o="",u=1;return a==n?(o="　",u=1):(o=" ",u=Math.ceil(a/r)),{char:new Array(u).fill(o).join(""),width:a}}return{char:e}},z=function(t,e,r,n){B[e].x=r,B[e].y=n,B[e].char=t},J=function(t,e,r,n,a){var o=a.startIndex,u=void 0===o?0:o,s=(a.endIndex,r);/·/.test(r)&&(s=s.replace(/·/g,"."),n=i.measureText(s).width);for(var c=r.split(""),d=t,l=0;l<e.length;l++){var h=e[l],f=h-u,v=c[f];if(v){var p=G(B[h],v),g=p.char,b=p.width;c[f]=g,"center"==k&&(d=t-.5*(n-b)),"right"==k&&(d=t-n+b),z(v,h,d+i.measureText(s.substring(0,f)).width,_+U)}}return c},U=Math.ceil((p-b)/2);if(H+s<=a&&!t.includes("\n")){j+=s;var X=Object.keys(B),Y="";return X&&(Y=J(j,X,t,H,{}),D()),i.fillText(Y.join(""),j,_+U),_+=p,$(j,_,H),i.restore(),void this.setBorder(e,r)}for(var q=t.split(""),V=_,Q=j,Z="",K=0,tt=0,et=0;et<=q.length;et++){var rt=q[et]||"",nt="\n"===rt,it=""==rt;rt=nt?"":rt;var at=Z+rt,ot=i.measureText(at).width;if(K>=I)break;if(0==K?(ot+=s,Q=j+s):(ot=ot,Q=j),ot>a||nt||it){var ut=et;if(K++,Z=it&&ot<=a?at:Z,K===I&&ot>a){while(i.measureText("".concat(Z,"...")).width>a){if(Z.length<=1)break;Z=Z.substring(0,Z.length-1)}Z+="..."}var st=Object.keys(B),ct="";if(st&&(ct=J(j,st,Z,ot,{startIndex:tt,endIndex:ut}),D()),i.fillText(ct.join(""),Q,_+U),_+=p,$(Q,_,ot),Z=rt,tt=ut+(nt?1:0),_+p>V+o)break}else Z=at}i.restore(),this.setBorder(e,r)}}},{key:"drawNode",value:function(){var t=(0,a.default)(regeneratorRuntime.mark((function t(e){var r,n,a,o,u,s,c,d,l,f,v,p,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.layoutBox,n=e.computedStyle,a=e.attributes,o=e.name,u=e.rules,s=e.children,c=e.attributes,d=c.src,l=c.text,"view"!==o){t.next=6;break}this.drawView(r,n),t.next=12;break;case 6:if("image"!==o||!d){t.next=11;break}return t.next=9,this.drawImage(a,r,n,!1);case 9:t.next=12;break;case 11:"text"===o?this.drawText(l,r,n,u):"qrcode"===o&&(null===h.default||void 0===h.default?void 0:h.default.api)&&h.default.api.draw(l,this,r,n);case 12:if(s){t.next=14;break}return t.abrupt("return");case 14:f=Object.values?Object.values(s):Object.keys(s).map((function(t){return s[t]})),v=(0,i.default)(f),t.prev=16,v.s();case 18:if((p=v.n()).done){t.next=24;break}return g=p.value,t.next=22,this.drawNode(g);case 22:t.next=18;break;case 24:t.next=29;break;case 26:t.prev=26,t.t0=t["catch"](16),v.e(t.t0);case 29:return t.prev=29,v.f(),t.finish(29);case 32:case"end":return t.stop()}}),t,this,[[16,26,29,32]])})));function e(e){return t.apply(this,arguments)}return e}()}]),t}();e.Draw=f},3835:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=u(r("0d21")),i=u(r("09f0")),a=u(r("06c5")),o=u(r("3d8c"));function u(t){return t&&t.__esModule?t:{default:t}}function s(t,e){return(0,n.default)(t)||(0,i.default)(t,e)||(0,a.default)(t,e)||(0,o.default)()}},"3d8c":function(t,e,r){"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},"478b":function(t,e,r){"use strict";var n=r("4ea4");r("99af"),r("a9e3"),r("d3b7"),r("ac1f"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r("96cf");var i=n(r("1da1")),a=r("0120"),o=r("28f2"),u=r("a090"),s=r("dac0"),c={name:"l-painter",props:{board:Object,pathType:{type:String},fileType:{type:String,default:"png"},quality:{type:Number,default:1},width:[Number,String],height:[Number,String],pixelRatio:Number,customStyle:String,isRenderImage:Boolean,isH5PathToBase64:Boolean,sleep:{type:Number,default:1e3/60},beforeDelay:{type:Number,default:1e3/60},afterDelay:Number},data:function(){return{canvasId:"l-painter".concat(this._uid),use2dCanvas:!1,draw:null,ctx:null,canvasHeight:0,canvasWidth:0,layout:new u.Layout,isDrawIng:!1}},computed:{size:function(){return"width:".concat(this.boardWidth,"px; height: ").concat(this.boardHeight,"px;")},dpr:function(){return this.pixelRatio||uni.getSystemInfoSync().pixelRatio},boardWidth:function(){var t=this.board||{},e=t.width;return(0,a.toPx)(this.width||e)},boardHeight:function(){var t=this.board||{},e=t.height,r=this.height,n=this.canvasHeight;return/^auto$/.test(r||e)?n||1:(0,a.toPx)(r||e)}},watch:{size:function(){}},mounted:function(){var t=this;this.$watch("board",function(){var e=(0,i.default)(regeneratorRuntime.mark((function e(r,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("{}"!==JSON.stringify(r)&&r){e.next=2;break}return e.abrupt("return");case 2:if(!t.beforeDelay){e.next=5;break}return e.next=5,(0,a.sleep)(t.beforeDelay);case 5:t.render();case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),{deep:!0,immediate:!0})},methods:{update:function(t,e){var r=this;return(0,i.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r.draw=null,r.isDrawIng=!1,n.next=4,new Promise((function(t){return r.$nextTick(t)}));case 4:return n.next=6,(0,a.sleep)(200);case 6:return n.abrupt("return",r.render(t,e));case 7:case"end":return n.stop()}}),n)})))()},render:function(){var t=arguments,e=this;return(0,i.default)(regeneratorRuntime.mark((function r(){var n,u,s,c,d,l,h,f,v,p,g,b,m,y;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n=t.length>0&&void 0!==t[0]?t[0]:{},u=t.length>1&&void 0!==t[1]&&t[1],!e.isDrawIng){r.next=4;break}return r.abrupt("return",e.update(n,u));case 4:return e.isDrawIng=!0,s="{}"!=JSON.stringify(n),r.next=8,e.getContext();case 8:if(c=r.sent,d=e.use2dCanvas,l=e.boardWidth,h=e.boardHeight,f=e.board,v=e.canvas,p=e.isH5PathToBase64,g=e.sleep,b=e.afterDelay,!d||v){r.next=12;break}return r.abrupt("return",Promise.reject(new Error("render: fail canvas has not been created")));case 12:if(e.boundary={top:0,left:0,width:l,height:h},u||c.clearRect(0,0,l,h),e.draw&&!s||(e.draw=new o.Draw(c,v,d,p,g)),e.layout.init(c,e.boundary,p),!(s||f&&"{}"!=JSON.stringify(f))){r.next=20;break}return r.next=19,e.layout.calcNode(s?n:Object.assign({},f,{height:f.type||"auto"!=f.height?f.height:h}));case 19:e.node=r.sent;case 20:if(m=e.layout.layoutHeight,!/auto/.test(e.height||f.height)||e.canvasHeight){r.next=24;break}return e.canvasHeight=m,r.abrupt("return",e.update(n,u));case 24:if(!e.node){r.next=27;break}return r.next=27,null===(y=e.draw)||void 0===y?void 0:y.drawNode(e.node);case 27:return r.next=29,new Promise((function(t){return e.$nextTick(t)}));case 29:if(d||u){r.next=32;break}return r.next=32,e.canvasDraw(c);case 32:if(!b){r.next=35;break}return r.next=35,(0,a.sleep)(b);case 35:return e.$emit("done"),e.isRenderImage&&!u&&e.isDrawIng&&e.canvasToTempFilePath().then(function(){var t=(0,i.default)(regeneratorRuntime.mark((function t(r){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("base64"!=e.pathType){t.next=11;break}if(!/^data:image\/(\w+);base64/.test(r.tempFilePath)){t.next=5;break}e.$emit("success",r.tempFilePath),t.next=9;break;case 5:return t.next=7,(0,a.pathToBase64)(r.tempFilePath);case 7:n=t.sent,e.$emit("success",n);case 9:t.next=19;break;case 11:if("url"!=e.pathType){t.next=18;break}return t.next=14,(0,a.base64ToPath)(r.tempFilePath);case 14:i=t.sent,e.$emit("success",i),t.next=19;break;case 18:e.$emit("success",r.tempFilePath);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$emit("fail",new Error(JSON.stringify(t)))})),e.isDrawIng=!1,r.abrupt("return",Promise.resolve({ctx:c,draw:e.draw,node:e.node}));case 39:case"end":return r.stop()}}),r)})))()},custom:function(t){var e=this;return(0,i.default)(regeneratorRuntime.mark((function r(){var n,i,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.render({},!0);case 2:return n=r.sent,i=n.ctx,a=n.draw,i.save(),r.next=8,t(i,a);case 8:return i.restore(),r.abrupt("return",Promise.resolve(!0));case 10:case"end":return r.stop()}}),r)})))()},single:function(){var t=arguments,e=this;return(0,i.default)(regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:{},r.next=3,e.render(n,!0);case 3:return i=r.sent,r.abrupt("return",Promise.resolve(i));case 5:case"end":return r.stop()}}),r)})))()},canvasDraw:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.ctx;return new Promise((function(r){e.draw(t,r)}))},getContext:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var r,n,i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.ctx||!t.inited){e.next=2;break}return e.abrupt("return",Promise.resolve(t.ctx));case 2:return r=t.type,t.use2dCanvas,n=t.dpr,i=t.boardWidth,a=t.boardHeight,o=function(){return new Promise((function(e){uni.createSelectorQuery().in(t).select("#".concat(t.canvasId)).boundingClientRect().exec((function(r){if(r){var n=uni.createCanvasContext(t.canvasId,t);t.inited||(t.inited=!0,t.use2dCanvas=!1,t.canvas=r),t.ctx=(0,s.expand)(n),e(t.ctx)}}))}))},e.abrupt("return",o());case 7:return e.abrupt("return",new Promise((function(e){uni.createSelectorQuery().in(t).select("#".concat(t.canvasId)).node().exec((function(o){var u=o[0].node;u||(t.use2dCanvas=!1,e(t.getContext()));var c=u.getContext(r);t.inited||(t.inited=!0,u.width=i*n,u.height=a*n,t.use2dCanvas=!0,t.canvas=u,c.scale(n,n)),t.ctx=(0,s.adaptor)(c),e(t.ctx)}))})));case 8:case"end":return e.stop()}}),e)})))()},canvasToTempFilePath:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.use2dCanvas,n=this.canvasId,i=this.dpr;return new Promise((function(a,o){var u=t.boundary||t,s=u.top,c=void 0===s?0:s,d=u.left,l=void 0===d?0:d,h=u.width,f=u.height,v=h*i,p=f*i,g=e||t,b=g.fileType,m=g.quality,y={x:l,y:c,width:h,height:f,destWidth:v,destHeight:p,canvasId:n,fileType:b,quality:m,success:a,fail:o};r&&(delete y.canvasId,y.canvas=t.canvas),uni.canvasToTempFilePath(y,t)}))}}};e.default=c},"6b75":function(t,e,r){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},7752:function(t,e,r){"use strict";r.r(e);var n=r("e720"),i=r("06d7");for(var a in i)"default"!==a&&function(t){r.d(e,t,(function(){return i[t]}))}(a);var o,u=r("f0c5"),s=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,"5044544a",null,!1,n["a"],o);e["default"]=s.exports},"96cf":function(t,e){!function(e){"use strict";var r,n=Object.prototype,i=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag",c="object"===typeof t,d=e.regeneratorRuntime;if(d)c&&(t.exports=d);else{d=e.regeneratorRuntime=c?t.exports:{},d.wrap=w;var l="suspendedStart",h="suspendedYield",f="executing",v="completed",p={},g={};g[o]=function(){return this};var b=Object.getPrototypeOf,m=b&&b(b(_([])));m&&m!==n&&i.call(m,o)&&(g=m);var y=T.prototype=k.prototype=Object.create(g);P.prototype=y.constructor=T,T.constructor=P,T[s]=P.displayName="GeneratorFunction",d.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===P||"GeneratorFunction"===(e.displayName||e.name))},d.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,T):(t.__proto__=T,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(y),t},d.awrap=function(t){return{__await:t}},S(I.prototype),I.prototype[u]=function(){return this},d.AsyncIterator=I,d.async=function(t,e,r,n){var i=new I(w(t,e,r,n));return d.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(y),y[s]="Generator",y[o]=function(){return this},y.toString=function(){return"[object Generator]"},d.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){while(e.length){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},d.values=_,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return u.type="throw",u.arg=t,e.next=n,i&&(e.method="next",e.arg=r),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;L(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),p}}}function w(t,e,r,n){var i=e&&e.prototype instanceof k?e:k,a=Object.create(i.prototype),o=new j(n||[]);return a._invoke=R(t,r,o),a}function x(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(n){return{type:"throw",arg:n}}}function k(){}function P(){}function T(){}function S(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function I(t){function e(r,n,a,o){var u=x(t[r],t,n);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"===typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then((function(t){e("next",t,a,o)}),(function(t){e("throw",t,a,o)})):Promise.resolve(c).then((function(t){s.value=t,a(s)}),(function(t){return e("throw",t,a,o)}))}o(u.arg)}var r;function n(t,n){function i(){return new Promise((function(r,i){e(t,n,r,i)}))}return r=r?r.then(i,i):i()}this._invoke=n}function R(t,e,r){var n=l;return function(i,a){if(n===f)throw new Error("Generator is already running");if(n===v){if("throw"===i)throw a;return B()}r.method=i,r.arg=a;while(1){var o=r.delegate;if(o){var u=M(o,r);if(u){if(u===p)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=f;var s=x(t,e,r);if("normal"===s.type){if(n=r.done?v:h,s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=v,r.method="throw",r.arg=s.arg)}}}function M(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,M(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=x(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,p;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,p):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){while(++n<t.length)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:B}}function B(){return{value:r,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},a090:function(t,e,r){"use strict";var n=r("4ea4");r("4160"),r("caad"),r("d81d"),r("b64b"),r("ac1f"),r("2532"),r("466d"),r("5319"),r("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.Layout=void 0;var i=n(r("3835")),a=n(r("ade3"));r("96cf");var o=n(r("1da1")),u=n(r("d4ec")),s=n(r("bee2")),c=r("0120"),d=function(){function t(){(0,u.default)(this,t),this.layoutHeight=0,this.layoutWidth=0,this.uuid=0}return(0,s.default)(t,[{key:"init",value:function(t,e,r){this.ctx=t,this.root=e,this.layoutWidth=e.width||0,this.layoutHeight=e.height||0,this.uuid=0,this.isH5PathToBase64=r}},{key:"getNodeTree",value:function(){var t=(0,o.default)(regeneratorRuntime.mark((function t(e){var r,n,i,a,o,u,s,c,d,l,h,f,v,p,g,b,m,y,w=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=w.length>1&&void 0!==w[1]?w[1]:{},n=w.length>2&&void 0!==w[2]?w[2]:0,i=w.length>3&&void 0!==w[3]?w[3]:[],a=w.length>4?w[4]:void 0,o=Object.assign({},this.getComputedStyle(e,r,n)),t.next=7,this.getAttributes(e);case 7:if(u=t.sent,s={id:this.uuid++,parent:r,computedStyle:o,rules:e.rules,attributes:Object.assign({},u),name:(null===e||void 0===e?void 0:e.type)||"view",isRoot:!(null===e||void 0===e?void 0:e.type)&&"{}"==JSON.stringify(r)},"{}"!==JSON.stringify(r)||e.type?s.layoutBox=Object.assign({left:0,top:0},this.getLayoutBox(s,r,n,i,a)):(c=o.left,d=void 0===c?0:c,l=o.top,h=void 0===l?0:l,f=o.width,v=void 0===f?0:f,p=o.height,g=void 0===p?0:p,s.layoutBox={left:d,top:h,width:v,height:g}),!(null===e||void 0===e?void 0:e.views)){t.next=25;break}b=[],s.children=[],m=0;case 14:if(!(m<e.views.length)){t.next=24;break}return y=e.views[m],t.t0=b,t.next=19,this.getNodeTree(y,s,m,b,e);case 19:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 21:m++,t.next=14;break;case 24:s.children=b;case 25:return t.abrupt("return",s);case 26:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getComputedStyle",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},o=t.name||t.type,u="{}"!=JSON.stringify(r)||o?t.css:t;if(!u)return n;var s=["color","fontSize","lineHeight","verticalAlign","fontWeight","textAlign"];r.computedStyle&&s.forEach((function(t){(u[t]||r.computedStyle[t])&&(u[t]=u[t]||r.computedStyle[t])}));for(var d=function(){var t=h[l],s=u[t];if("views"==t)return"continue";if(/^(box)?shadow$/i.test(t)){var d=s.split(" ").map((function(t){return/^\d/.test(t)?(0,c.toPx)(t):t}));return n.boxShadow=d,"continue"}if(/^border/i.test(t)&&!/radius$/i.test(t)){var f,v=t.match(/^border([BTRLa-z]+)?/)[0],p=t.match(/[W|S|C][a-z]+/),g=s.replace(/([\(,])\s+|\s+([\),])/g,"$1$2").split(" ").map((function(t){return/^\d/.test(t)?(0,c.toPx)(t,"",!0):t}));return n[v]=(f={},(0,a.default)(f,v+"Width",((0,c.isNumber)(g[0])?g[0]:0)||1),(0,a.default)(f,v+"Style",g[1]||"solid"),(0,a.default)(f,v+"Color",g[2]||"black"),f),1==g.length&&p&&(n[v][v+p[0]]=g[0]),"continue"}if(/^background(color)?$/i.test(t))return n["backgroundColor"]=s,"continue";if(/padding|margin|radius/i.test(t)){var b=/radius$/i.test(t),m=b?"borderRadius":t.match(/[a-z]+/)[0],y=[0,0,0,0].map((function(t,e){return b?["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"][e]:[m+"Top",m+"Right",m+"Bottom",m+"Left"][e]}));if("padding"===t||"margin"===t||/^(border)?radius$/i.test(t)){var w,x=(null===s||void 0===s?void 0:s.split(" ").map((function(t){return/^\d/.test(t)&&(0,c.toPx)(t,u["width"])}),[]))||[0],k=b?"borderRadius":t,P=(0,i.default)(x,4),T=P[0],S=P[1],I=P[2],R=P[3];n[k]=(w={},(0,a.default)(w,y[0],T),(0,a.default)(w,y[1],(0,c.isNumber)(S)?S:T),(0,a.default)(w,y[2],(0,c.isNumber)(I)?I:T),(0,a.default)(w,y[3],(0,c.isNumber)(R)?R:S||T),w)}else{var M;if("object"===typeof n[m])n[m][t]=(0,c.toPx)(s,u["width"]);else n[m]=(M={},(0,a.default)(M,y[0],n[m]||0),(0,a.default)(M,y[1],n[m]||0),(0,a.default)(M,y[2],n[m]||0),(0,a.default)(M,y[3],n[m]||0),M),n[m][t]=(0,c.toPx)(s,u["width"])}return"continue"}if(/^(width|height)$/i.test(t))return/%$/.test(s)?n[t]=(0,c.toPx)(s,r.layoutBox[t]):n[t]=/px|rpx$/.test(s)?(0,c.toPx)(s):s,"continue";if(/^transform$/i.test(t))return n[t]={},s.replace(/([a-zA-Z]+)\(([0-9,-\.%rpxdeg\s]+)\)/g,(function(e,r,i){var a=i.split(",").map((function(t){return t.replace(/(^\s*)|(\s*$)/g,"")})),o=function(t,e){return t.includes("deg")?1*t:e&&!/%$/.test(e)?(0,c.toPx)(t,e):t};r.includes("matrix")?n[t][r]=a.map((function(t){return 1*t})):r.includes("rotate")?n[t][r]=1*i.match(/^-?\d+(\.\d+)?/)[0]:/[X, Y]/.test(r)?n[t][r]=/[X]/.test(r)?o(a[0],u["width"]):o(a[0],u["height"]):(n[t][r+"X"]=o(a[0],u["width"]),n[t][r+"Y"]=o(a[1]||a[0],u["height"]))})),"continue";if(/^transformOrigin/i.test(t))return n[t]=s,"continue";if(/%/.test(s)){var O=r.layoutBox,L=O.width,j=O.height,_=(O.left,O.top,e.root),B=_.width,N=_.height;n.position;n[t]="width"==t?(0,c.toPx)(s,L||B):"height"==t?(0,c.toPx)(s,j||N):"left"==t||"top"==t?s:(0,c.toPx)(s,u["width"])}else n[t]=/px|rpx$/.test(s)?(0,c.toPx)(s):/em$/.test(s)&&"text"==o?(0,c.toPx)(s,u["fontSize"]):s},l=0,h=Object.keys(u);l<h.length;l++)d();return/image/.test(t.name||t.type)&&!n.mode&&(n.mode=t.mode||"scaleToFill",u.width&&"auto"!=u.width||u.height&&"auto"!=u.width||(n.mode="")),n}},{key:"getLayoutBox",value:function(t){var e,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o={},u=t||{},s=u.name,d=u.computedStyle,l=(u.layoutBox,u.attributes);u.isRoot;if(!s)return o;var h=this.ctx,f=n.layoutBox,v=void 0===f?this.root:f,p=n.computedStyle,g=d.verticalAlign,b=d.left,m=d.top,y=d.width,w=d.height,x=d.fontSize,k=void 0===x?14:x,P=d.lineHeight,T=void 0===P?"1.4em":P,S=d.maxLines,I=d.fontWeight,R=d.fontFamily,M=d.textStyle,O=d.position,L=d.display,j=d.padding,_=void 0===j?{}:j,B=d.margin,N=void 0===B?{}:B,C=_.paddingTop,F=void 0===C?0:C,A=_.paddingRight,H=void 0===A?0:A,W=_.paddingBottom,E=void 0===W?0:W,$=_.paddingLeft,D=void 0===$?0:$,G=N.marginTop,z=void 0===G?0:G,J=N.marginRight,U=void 0===J?0:J,X=N.marginBottom,Y=void 0===X?0:X,q=N.marginLeft,V=void 0===q?0:q,Q=a[i-1]||{},Z=Q.layoutBox,K=Q.computedStyle,tt=Q.name,et=a[i+1]||{},rt=et.layoutBox,nt=(et.computedStyle,et.name,(null===K||void 0===K||null===(e=K.margin)||void 0===e?void 0:e.marginBottom)||0),it=(null===K||void 0===K||null===(r=K.margin)||void 0===r?void 0:r.marginRight)||0;if(/%$/.test(b)&&(b=(0,c.toPx)(b,v.width)),/%$/.test(m)&&(m=(0,c.toPx)(m,v.height)),"relative"==O&&(b+=v.left,m+=v.top),"text"===s){var at=l.text||"";T=(0,c.toPx)(T,k),h.save(),h.setFonts({fontFamily:R,fontSize:k,fontWeight:I,textStyle:M});var ot=0==i,ut="inlineBlock"===L,st="block"===L||"block"===(null===K||void 0===K?void 0:K.display),ct=ot&&!rt||!(null===n||void 0===n?void 0:n.id),dt=ot||st?0:Z.offsetRight||0,lt=at.split("\n"),ht=1,ft="",vt=d.textIndent||0;ct||ut?(ft=at,ht=Math.max(lt.length,Math.ceil(h.measureText(at,k).width/((y||v.width)-h.measureText("!",k).width/2)))):lt.map((function(t,e){ht+=e;for(var r=t.split(""),n=0;n<r.length;n++){var i=r[n],a=ft+i,o=h.measureText(a,k).width;1==ht&&(o=o+(st?0:dt)+vt),o>(y||v.width)?(ht++,ft=i):ft=a}})),ut||(o.offsetLeft=((0,c.isNumber)(b)||st||ct?vt:dt)+D+V),o.offsetTop=F;var pt=h.measureText(ft,k).width,gt=(ht>1?v.width:pt+((null===o||void 0===o?void 0:o.offsetLeft)||0))+H;ut||(o.offsetRight=(b||0)+o.offsetLeft+(y||(st?v.width:pt))+H+U);var bt=Z?Z.left+Z.width:0,mt=function(){return ut?(bt+gt>v.width||ot?v.left:bt+it)+V:b||v.left},yt=function(){return ut?gt+D+H:y||(!ct||st?v.width:gt>v.width-o.left||ht>1?v.width-o.left:gt)},wt=function(){return w||(ht>1?(S||ht)*T+F+E:T+F+E)},xt=function(){var t=m;return t||(t=ot?v.top:1==ht&&gt<v.width&&"text"===tt&&!st&&!ut||Z.width<v.width&&!(ut&&bt+gt>v.width)?Z.top:Z.top+Z.height-((null===n||void 0===n?void 0:n.id)&&((null===K||void 0===K?void 0:K.lineHeight)||0))),"bottom"===g&&(t=v.top+(v.height-o.height||0)),"middle"===g&&(t=v.top+(v.height?(v.height-o.height||0)/2:0)),t+z+(st&&(null===K||void 0===K?void 0:K.lineHeight)||0)+(bt+gt>v.width?nt:0)};o.left=mt(),o.width=yt(),o.height=wt(),o.top=xt(),p&&!p.height&&(v.height=o.top-v.top+o.height),h.restore()}else if(["view","qrcode"].includes(s))o.left=(b||v.left)+V-U,o.width=(y||(null===v||void 0===v?void 0:v.width))-D-H,o.height=w||0,(0,c.isNumber)(m)?o.top=m+z:o.top=(Z&&Z.top+Z.height||v.top)+z+nt;else if("image"===s){var kt=l.width,Pt=l.height,Tt=Z&&Z.left+Z.width;if((0,c.isNumber)(b)?o.left=b+V-U:o.left=(Z&&(Tt<v.width?Tt:v.left)||v.left)+V-U,(0,c.isNumber)(y)?o.width=y:o.width=Math.round((0,c.isNumber)(w)?kt*w/Pt:null===v||void 0===v?void 0:v.width),(0,c.isNumber)(w))o.height=w;else{var St=Math.round(o.width*Pt/kt);o.height=Math.min(St,null===v||void 0===v?void 0:v.height)}(0,c.isNumber)(m)?o.top=m+z:o.top=(Z&&(Tt<v.width?Tt:Z.top+Z.height)||v.top)+z+nt}return o.top+o.height+Y>this.layoutHeight&&(this.layoutHeight=o.top+o.height+Y),o}},{key:"getAttributes",value:function(){var t=(0,o.default)(regeneratorRuntime.mark((function t(e){var r,n,i,a,o,u,s,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r={},!(null===e||void 0===e?void 0:e.url)&&!(null===e||void 0===e?void 0:e.src)){t.next=16;break}return r.src=e.url||(null===e||void 0===e?void 0:e.src),t.next=5,(0,c.getImageInfo)(r.src,this.isH5PathToBase64);case 5:if(t.t0=t.sent,t.t0){t.next=8;break}t.t0={};case 8:n=t.t0,i=n.width,a=void 0===i?0:i,o=n.height,u=void 0===o?0:o,s=n.path,d=n.url,r=Object.assign({},r,{width:a,height:u,src:s,url:d});case 16:return(null===e||void 0===e?void 0:e.text)&&(r.text=e.text),t.abrupt("return",r);case 18:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"calcNode",value:function(){var t=(0,o.default)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getNodeTree(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}();e.Layout=d},a235:function(t,e,r){"use strict";r.r(e);var n=r("478b"),i=r.n(n);for(var a in n)"default"!==a&&function(t){r.d(e,t,(function(){return n[t]}))}(a);e["default"]=i.a},b85c:function(t,e,r){"use strict";r("a4d3"),r("e01a"),r("d28b"),r("d3b7"),r("3ca3"),r("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=i(r("06c5"));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){var r;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=(0,n.default)(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return u=t.done,t},e:function(t){s=!0,o=t},f:function(){try{u||null==r["return"]||r["return"]()}finally{if(s)throw o}}}}},baa5:function(t,e,r){var n=r("23e7"),i=r("e58c");n({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},bee2:function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},cb29:function(t,e,r){var n=r("23e7"),i=r("81d5"),a=r("44d2");n({target:"Array",proto:!0},{fill:i}),a("fill")},d4ec:function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},dac0:function(t,e,r){"use strict";r("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.expand=i,e.adaptor=a;var n=function(t){return{setFonts:function(e){var r=e.fontFamily,n=void 0===r?"sans-serif":r,i=e.fontSize,a=void 0===i?14:i,o=e.fontWeight,u=void 0===o?"normal":o,s=e.textStyle,c=void 0===s?"normal":s;t.font="".concat(c," ").concat(u," ").concat(a,"px ").concat(n)}}};function i(t){return Object.assign(t,n(t))}function a(t){return Object.assign(t,n(t),{setStrokeStyle:function(e){t.strokeStyle=e},setLineWidth:function(e){t.lineWidth=e},setLineCap:function(e){t.lineCap=e},setFillStyle:function(e){t.fillStyle=e},setFontSize:function(e){t.font=String(e)},setGlobalAlpha:function(e){t.globalAlpha=e},setLineJoin:function(e){t.lineJoin=e},setTextAlign:function(e){t.textAlign=e},setMiterLimit:function(e){t.miterLimit=e},setShadow:function(e,r,n,i){t.shadowOffsetX=e,t.shadowOffsetY=r,t.shadowBlur=n,t.shadowColor=i},setTextBaseline:function(e){t.textBaseline=e},createCircularGradient:function(){},draw:function(){}})}},e5e6:function(t,e,r){"use strict";var n;r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return a})),r.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.use2dCanvas?r("v-uni-canvas",{style:t.size+";"+t.customStyle,attrs:{id:t.canvasId,type:"2d"}}):r("v-uni-canvas",{style:t.size+";"+t.customStyle,attrs:{"canvas-id":t.canvasId,id:t.canvasId,width:t.boardWidth*t.dpr,height:t.boardHeight*t.dpr}})},a=[]},e720:function(t,e,r){"use strict";var n;r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return a})),r.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-uni-view",{staticClass:"body"},[r("l-painter",{attrs:{board:t.base}})],1)},a=[]},ef0d:function(t,e,r){"use strict";var n=r("4ea4");r("cb29"),r("e25e"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(r("0f0e")),a={components:{lPainter:i.default},onReady:function(t){},data:function(){return{base:{width:"686rpx",height:"130rpx",views:[{type:"view",css:{left:"0rpx",top:"0rpx",background:"#07c160",width:"120rpx",height:"120rpx"}},{type:"view",css:{left:"180rpx",top:"18rpx",background:"#1989fa",width:"80rpx",height:"80rpx",transform:"transform: rotate(50deg)"}}]}}},created:function(){},onLoad:function(t){},methods:{getPersentageH:function(t){t/=100;var e=uni.getSystemInfoSync().screenHeight;return parseInt(e*t)},draw:function(){var t=uni.createCanvasContext("myCanvas");t.drawImage(this.path,0,0,this.canvasW,this.canvasH),t.setFillStyle("#F76260"),t.font="".concat(uni.upx2px(30),"px Arial"),t.setTextAlign("center"),t.fillText("十五个字十五个字十五个字十五个",this.canvasW/2,this.getPersentageH(61)),t.setFillStyle("#FBBD08"),t.save(),t.beginPath(),t.arc(uni.upx2px(377),this.getPersentageH(54),uni.upx2px(61),0,2*Math.PI),t.clip(),t.fill(),t.drawImage(this.path1,uni.upx2px(315),this.getPersentageH(50.3),uni.upx2px(122),uni.upx2px(122)),t.restore(),t.drawImage(this.path,uni.upx2px(274),this.getPersentageH(67),uni.upx2px(204),uni.upx2px(204)),t.draw()},save_temp:function(){uni.canvasToTempFilePath({canvasId:"myCanvas",success:function(t){uni.saveImageToPhotosAlbum({filePath:t.tempFilePath,complete:function(t){return console.log(t)}})},fail:function(t){return console.log(t)}})}}};e.default=a}}]);